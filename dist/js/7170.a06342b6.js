"use strict";(self["webpackChunk_coreui_coreui_pro_vue_admin_template"]=self["webpackChunk_coreui_coreui_pro_vue_admin_template"]||[]).push([[7170],{9472:function(e,a,l){l.d(a,{V:function(){return o}});const o=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M368,128H144a128,128,0,0,0,0,256H368a128,128,0,0,0,0-256Zm0,224H144a96,96,0,0,1,0-192H368a96,96,0,0,1,0,192Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M144,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,144,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,144,288Z' class='ci-primary'/>"]},6472:function(e,a,l){l.d(a,{F:function(){return o}});const o=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M368,128H144a128,128,0,0,0,0,256H368a128,128,0,0,0,0-256Zm0,224H144a96,96,0,0,1,0-192H368a96,96,0,0,1,0,192Z' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M368,192a64,64,0,1,0,64,64A64.072,64.072,0,0,0,368,192Zm0,96a32,32,0,1,1,32-32A32.036,32.036,0,0,1,368,288Z' class='ci-primary'/>"]},7170:function(e,a,l){l.r(a),l.d(a,{default:function(){return C}});var o=l(3396);const r={class:"bg-light min-vh-100 d-flex flex-row align-items-center"},t=(0,o._)("h1",{class:"mt-5"},"LOGIN",-1);function n(e,a,l,n,s,u){const i=(0,o.up)("CImage"),d=(0,o.up)("CCol"),m=(0,o.up)("CFormLabel"),c=(0,o.up)("CFormInput"),p=(0,o.up)("CInputGroup"),f=(0,o.up)("CIcon"),w=(0,o.up)("CFormCheck"),C=(0,o.up)("CInputGroupText"),_=(0,o.up)("CButton"),g=(0,o.up)("CRow"),h=(0,o.up)("CForm"),v=(0,o.up)("CCardBody"),W=(0,o.up)("CCard"),k=(0,o.up)("CCardGroup"),y=(0,o.up)("CContainer");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{src:s.login,fluid:"",block:"",class:"c-image"},null,8,["src"])])),_:1}),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[t,(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Username")])),_:1}),(0,o.Wm)(p,{class:"mb-3"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:s.form.username,"onUpdate:modelValue":a[0]||(a[0]=e=>s.form.username=e),feedbackInvalid:"ห้ามเว้นว่าง",invalid:s.validate.username,size:"lg",id:"username"},null,8,["modelValue","invalid"])])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Password")])),_:1}),(0,o.Wm)(p,{class:"mb-4"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{type:"password",id:"password",modelValue:s.form.password,"onUpdate:modelValue":a[1]||(a[1]=e=>s.form.password=e),feedbackInvalid:"ห้ามเว้นว่าง",invalid:s.validate.password,autocomplete:"current-password",size:"lg"},null,8,["modelValue","invalid"]),(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{type:"radio",autocomplete:"off",onClick:u.showPassword},{label:(0,o.w5)((()=>[(0,o.Wm)(f,{icon:s.cilToggleOff},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(w,{class:"remember",id:"rememberMe",label:"Remember me"}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{xs:6},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{color:"dark",class:"px-4",onClick:u.onLoginClick},{default:(0,o.w5)((()=>[(0,o.Uk)(" Login ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}l(7658);var s=l(4161),u=l(3116),i=l(9472),d=l(6472),m=l(1e3),c=l(5428),p={name:"Login1",data(){return{cilToggleOff:i.V,cilToggleOn:d.F,login:m,validatedCustom01:null,form:{username:"",password:""},validate:{username:null,password:null}}},methods:{vaildateBeforeSave(){let e=!1;return""===this.form.username&&(e=!0,this.validate.username=!0),""===this.form.password&&(e=!0,this.validate.password=!0),e},async onLoginClick(){if(this.vaildateBeforeSave());else try{const e=await s.Z.post("http://localhost:3000/auth/login",{username:this.form.username,password:this.form.password});console.log(e),console.log(e.data.user.role);const a={id:e.data.user.id,USERNAME:e.data.user.USERNAME,role:e.data.user.role,token:e.data.user.token};localStorage.setItem("USER_DATA",JSON.stringify(a)),setTimeout(function(){this.$router.push("/support-ticket/user/dashboard")}.bind(this),1500)}catch(e){console.log(e)}},showPassword(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"}},components:{CFormInput:c.jO9,CIcon:u.m}},f=l(89);const w=(0,f.Z)(p,[["render",n]]);var C=w},1e3:function(e,a,l){e.exports=l.p+"img/login.56e77403.jpg"}}]);
//# sourceMappingURL=7170.a06342b6.js.map